<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>

    <link rel="stylesheet" href="pkx.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

</head>

<body>
    

    
        <img src="pokedex.png" class="logo">


<div>
        <div class="search-container">

        <input class="search-box"  type="text" id="pokemon" name="numero" class="input" placeholder="Procurar Pokemon">

        <button id="butao" type="button" onclick="Clicar()" class="button">Buscar Na Pokedéx</button>

</div>

<div class="pokemon-card">

    <div class="pokemon-header">
        <span class="pokemon-type">GRASS</span>
        <span class="pokemon-hp">HP<span id="hpValue"> 
    </div>

    <img id="img" src="">
    <h2 class="nome" id="nomePokemon"></h2>

    <div class="stats">

        <span>Attack:</span>

        <div class="barra">

            <div class="porcentagem" id="atkBar" style="width: 49%;"></div>
        </div>

        <span id="atkValue">49</span>
    </div><br>

    <div class="stats">
        <span>Defense:</span>
        <div class="barra">
            <div class="porcentagem" id="defBar" style="width: 49%;"></div>
        </div>
        <span id="defValue">49</span>
    </div><br>

    <div class="stats">
        <span>Speed:</span>
        <div class="barra">
            <div class="porcentagem" id="spdBar" style="width: 45%;"></div>
        </div>
        <span id="spdValue">45</span>
    </div>
</div>




    




<script>





const tiposPT = {
  normal: "Normal",
  fire: "Fogo",
  water: "Água",
  grass: "Grama",
  electric: "Elétrico",
  ice: "Gelo",
  fighting: "Lutador",
  poison: "Veneno",
  ground: "Terra",
  flying: "Voador",
  psychic: "Psíquico",
  bug: "Inseto",
  rock: "Pedra",
  ghost: "Fantasma",
  dragon: "Dragão",
  dark: "Noturno",
  steel: "Aço",
  fairy: "Fada"
};

function Clicar() {
    var input = document.getElementById("pokemon");
    var nome = document.getElementById("nomePokemon");
    var img = document.getElementById("img");
    var tipo = document.querySelector(".pokemon-type");

    var url = "https://pokeapi.co/api/v2/pokemon/" + input.value.toLowerCase();

    if (!input.value) {
        alert("Por favor, insira o nome ou número do Pokémon.");
        return;
    }

    fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error("Pokémon não encontrado.");
            }
            return response.json();
        })
        .then((dados) => {

            document.querySelector('.pokemon-card').style.display = 'block';

            nome.textContent = dados.name.charAt(0).toUpperCase() + dados.name.slice(1);
            img.src = dados.sprites.front_default;
            img.style.width = "200px";

            const tipoIngles = dados.types[0].type.name;
            const tipoTraduzido = tiposPT[tipoIngles] || tipoIngles;
            tipo.textContent = tipoTraduzido;

            
            document.getElementById('atkBar').style.width = dados.stats[1].base_stat + '%';
            document.getElementById('atkValue').textContent = dados.stats[1].base_stat;

            document.getElementById('defBar').style.width = dados.stats[2].base_stat + '%';
            document.getElementById('defValue').textContent = dados.stats[2].base_stat;

            document.getElementById('spdBar').style.width = dados.stats[5].base_stat + '%';
            document.getElementById('spdValue').textContent = dados.stats[5].base_stat;

            document.querySelector('.pokemon-hp').textContent = 'HP ' + dados.stats[0].base_stat;

        })
        .catch(error => {
            alert(error.message);
        });
} 


</script>

</div>

</body>
</html>